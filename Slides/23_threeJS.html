<h2>Instancing & Interaction</h2>
<hr style="width: 70%; display:flex; justify-content:space-evenly;">

<div class="r-hstack" style="padding-top:3%;">
	<div>
		<iframe frameborder="0" style="overflow:scroll;" data-src="https://threejs.org/examples/webgl_instancing_raycast.html" height="900px" width="900px"></iframe>
	</div>
	
	
	<div style="padding-left: 2%; width: 48%">
		<pre style="height: 650px"><code  class="javascript">
const geo = new THREE.SphereGeometry(1, 1, 1);

const mat = new THREE.LambertMaterial();

const mesh = new THREE.InstancedMesh(geo, mat, nbInst);

// update instances
for(let i = 0; i < nbInst; ++i) {
	mesh.setColorAt(i, color);
	mesh.setMatrixAt(i, trans)
}

mesh.instanceMatrix.needsUpdate = true;
mesh.instanceColor.needsUpdate = true;


// interactions:
const inter = raycaster.intersectObject( mesh );
inter[0].instanceId;

		</code>
	</pre>
	</div>
</div>

<aside class="notes">
	<br>-
</aside>